<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{{fontName}}</title>

	<style>
		body {
			padding: 1.875rem;
			font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
			font-size: 1em;
      font-weight: 400;
      line-height: 1.42;
			background-color:#333;
			color:#fff;
		}

		h1 {
			font-size: 1.875rem;
			margin-block-end: 2rem;
		}

		ol {
      display: flex;
      flex-direction: column;
      row-gap: 1rem;
			margin: 0;
			padding: 0;
		}

		ol li {
			display: flex;
      align-items: center;
      gap: 0.5rem;
		}

    ol li i {
      font-weight: 400;
      font-style: normal;
      line-height: 1;
    }

		ol li i::before {
      display: block;
      min-width: 2rem;
			font-size: 1.5rem;
		}

    .copy-btn {
      appearance: none;
      border: 1px solid #fff;
      background: transparent;
      color: #fff;
      font: inherit;
      line-height: 1;
      padding: 0.375rem 0.625rem;
      border-radius: 0.375rem;
      cursor: pointer;
      transition: background-color .2s, color .2s, border-color .2s, transform .06s;
    }

		{{{styles}}}
	</style>
</head>

<body>
	<h1>Icons</h1>

  <div id="live-region" class="sr-only" aria-live="polite" aria-atomic="true"></div>

	<ol>
		{{#each names}}
			<li>
        <i class="{{../classPrefix}}{{this}}"></i>
        
        <div>
          <div>
            <span>{{../classPrefix}}{{this}}</span>

            <button
              type="button"
              class="copy-btn"
              data-copy="{{../classPrefix}}{{this}}"
              aria-label="Copy icon name {{../classPrefix}}{{this}}">
              Copy
            </button>
          </div>

          <div>
            <code>content: var(--{{../classPrefix}}{{this}});</code>

            <button
              type="button"
              class="copy-btn"
              data-copy="content: var(--{{../classPrefix}}{{this}});"
              aria-label="Copy CSS content for {{../classPrefix}}{{this}}">
              Copy
            </button>
          </div>
        </div>
      </li>
		{{/each}}
	</ol>


  <script>
    (() => {
      const live = document.getElementById('live-region');

      function announce(msg) {
        if (!live) return;
        // перезапис, щоб aria-live відпрацював
        live.textContent = '';
        requestAnimationFrame(() => { live.textContent = msg; });
      }

      async function copyText(text) {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
          return;
        }
        // fallback
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.setAttribute('readonly', '');
        ta.style.position = 'fixed';
        ta.style.opacity = '0';
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
      }

      document.addEventListener('click', async (e) => {
        const btn = e.target.closest('.copy-btn[data-copy]');
        if (!btn) return;

        const text = btn.getAttribute('data-copy') || '';
        try {
          await copyText(text);
          btn.classList.add('is-copied');
          const prev = btn.textContent;
          btn.textContent = 'Copied!';
          btn.setAttribute('aria-label', 'Copied to clipboard');
          announce('Copied: ' + text);

          setTimeout(() => {
            btn.classList.remove('is-copied');
            btn.textContent = prev;
            btn.setAttribute('aria-label', 'Copy');
          }, 1400);
        } catch {
          announce('Copy failed');
        }
      });
    })();
  </script>
</body>
</html>